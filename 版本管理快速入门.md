# ç‰ˆæœ¬ç®¡ç†å¿«é€Ÿå…¥é—¨

## ğŸ¯ å®ç°å†…å®¹

å·²ä¸ºé¡¹ç›®å®ç°äº†**å®Œæ•´çš„è‡ªåŠ¨åŒ–ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ**ï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š

### âœ… å·²å®ç°åŠŸèƒ½

1. **ç‰ˆæœ¬åŒæ­¥è„šæœ¬** (`scripts/version-manager.js`)
   - è‡ªåŠ¨åŒæ­¥ `package.json` å’Œ `manifest.json` ç‰ˆæœ¬å·
   - æ”¯æŒç‰ˆæœ¬æ˜¾ç¤ºã€æ£€æŸ¥ã€è®¾ç½®å’Œè‡ªå¢
   - å®Œæ•´çš„é”™è¯¯å¤„ç†å’ŒéªŒè¯

2. **NPM è„šæœ¬** (å·²æ·»åŠ åˆ° `package.json`)
   - `npm run version:show` - æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
   - `npm run version:check` - æ£€æŸ¥ç‰ˆæœ¬åŒæ­¥
   - `npm run version:sync <ç‰ˆæœ¬>` - æ‰‹åŠ¨åŒæ­¥ç‰ˆæœ¬
   - `npm run version:bump:patch/minor/major` - è‡ªå¢ç‰ˆæœ¬
   - `npm run release` - å®Œæ•´å‘å¸ƒæµç¨‹

3. **Git å·¥ä½œæµ**
   - Pre-commit hook è‡ªåŠ¨æ£€æŸ¥ç‰ˆæœ¬åŒæ­¥
   - äº¤äº’å¼å‘å¸ƒè„šæœ¬ (`scripts/release.sh`)
   - è‡ªåŠ¨åˆ›å»º Git æ ‡ç­¾

4. **è¯¦ç»†æ–‡æ¡£**
   - `ç‰ˆæœ¬ç®¡ç†è¯´æ˜.md` - å®Œæ•´çš„ä½¿ç”¨æ–‡æ¡£
   - åŒ…å«å·¥ä½œæµç¨‹ã€æœ€ä½³å®è·µã€æ•…éšœæ’é™¤

## ğŸš€ å¿«é€Ÿä½¿ç”¨

### æ—¥å¸¸æ“ä½œ

```bash
# 1. æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
npm run version:show

# 2. æ£€æŸ¥ç‰ˆæœ¬åŒæ­¥çŠ¶æ€
npm run version:check

# 3. è‡ªå¢ç‰ˆæœ¬ï¼ˆä¿®å¤bugï¼‰
npm run version:bump:patch    # 5.0.0 â†’ 5.0.1

# 4. è‡ªå¢ç‰ˆæœ¬ï¼ˆæ–°åŠŸèƒ½ï¼‰
npm run version:bump:minor    # 5.0.0 â†’ 5.1.0

# 5. è‡ªå¢ç‰ˆæœ¬ï¼ˆé‡å¤§å˜æ›´ï¼‰
npm run version:bump:major    # 5.0.0 â†’ 6.0.0
```

### å‘å¸ƒæ–°ç‰ˆæœ¬

```bash
# æ–¹å¼ä¸€ï¼šäº¤äº’å¼å‘å¸ƒï¼ˆæ¨èï¼‰
./scripts/release.sh

# æ–¹å¼äºŒï¼šå¿«é€Ÿå‘å¸ƒ
npm run release               # è‡ªåŠ¨æ„å»º + patchç‰ˆæœ¬
npm run release:minor         # è‡ªåŠ¨æ„å»º + minorç‰ˆæœ¬
npm run release:major         # è‡ªåŠ¨æ„å»º + majorç‰ˆæœ¬
```

## ğŸ“‹ æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `scripts/version-manager.js` | ç‰ˆæœ¬ç®¡ç†æ ¸å¿ƒè„šæœ¬ |
| `scripts/release.sh` | äº¤äº’å¼å‘å¸ƒè„šæœ¬ |
| `.git/hooks/pre-commit` | Gitæäº¤å‰æ£€æŸ¥ |
| `package.json` | å·²æ·»åŠ ç‰ˆæœ¬ç®¡ç†NPMè„šæœ¬ |
| `ç‰ˆæœ¬ç®¡ç†è¯´æ˜.md` | è¯¦ç»†ä½¿ç”¨æ–‡æ¡£ |
| `ç‰ˆæœ¬ç®¡ç†å¿«é€Ÿå…¥é—¨.md` | æœ¬æ–‡ä»¶ |

## ğŸ” æµ‹è¯•éªŒè¯

æ‰€æœ‰åŠŸèƒ½å·²é€šè¿‡æµ‹è¯•ï¼š

```bash
âœ… npm run version:show      # æ˜¾ç¤ºå½“å‰ç‰ˆæœ¬: 5.0.0
âœ… npm run version:check     # æ£€æŸ¥åŒæ­¥çŠ¶æ€: å·²åŒæ­¥
âœ… npm run version:bump:patch # è‡ªå¢ç‰ˆæœ¬: 5.0.0 â†’ 5.0.1
âœ… npm run version:sync 5.0.0 # åŒæ­¥ç‰ˆæœ¬: æˆåŠŸ
```

## ğŸ‰ å…³é”®ç‰¹æ€§

### 1. è‡ªåŠ¨åŒæ­¥
- ä¿®æ”¹ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œè‡ªåŠ¨åŒæ­¥åˆ°ä¸¤ä¸ªæ–‡ä»¶
- é˜²æ­¢ç‰ˆæœ¬ä¸ä¸€è‡´å¯¼è‡´çš„é”™è¯¯

### 2. Pre-commit Hook
- æ¯æ¬¡æäº¤è‡ªåŠ¨æ£€æŸ¥ç‰ˆæœ¬åŒæ­¥
- é˜»æ­¢ä¸åŒæ­¥çš„æäº¤

### 3. æ™ºèƒ½å‘å¸ƒ
- äº¤äº’å¼é€‰æ‹©å‘å¸ƒç±»å‹
- è‡ªåŠ¨æ„å»ºã€æäº¤ã€åˆ›å»ºæ ‡ç­¾

### 4. ç‰ˆæœ¬å·è§„åˆ™
- éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶
- æ”¯æŒ patch/minor/major ç‰ˆæœ¬è‡ªå¢

## ğŸ“– ä¸‹ä¸€æ­¥

1. **æäº¤åˆå§‹ä»£ç **
   ```bash
   git add .
   git commit -m "feat: initial commit v5.0.0"
   git tag v5.0.0
   ```

2. **é˜…è¯»å®Œæ•´æ–‡æ¡£**
   - æŸ¥çœ‹ `ç‰ˆæœ¬ç®¡ç†è¯´æ˜.md` äº†è§£è¯¦ç»†ç”¨æ³•

3. **å¼€å§‹ä½¿ç”¨**
   - å¼€å‘æ–°åŠŸèƒ½åä½¿ç”¨ `npm run version:bump:minor`
   - ä¿®å¤bugåä½¿ç”¨ `npm run version:bump:patch`
   - é‡å¤§æ›´æ–°æ—¶ä½¿ç”¨ `npm run version:bump:major`

## ğŸ’¡ æç¤º

- å§‹ç»ˆåœ¨å‘å¸ƒå‰è¿è¡Œ `npm run build` ç¡®è®¤æ„å»ºæˆåŠŸ
- ä½¿ç”¨ `npm run version:check` éªŒè¯ç‰ˆæœ¬åŒæ­¥
- æŸ¥çœ‹ `ç‰ˆæœ¬ç®¡ç†è¯´æ˜.md` äº†è§£é«˜çº§ç”¨æ³•å’Œæœ€ä½³å®è·µ

---

**ç‰ˆæœ¬ç®¡ç†å·¥å…·ç‰ˆæœ¬:** 1.0.0
**å®ç°æ—¶é—´:** 2025-11-15