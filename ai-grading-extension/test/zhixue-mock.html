<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºå­¦ç½‘é˜…å·ç³»ç»Ÿ - æ¨¡æ‹Ÿç¯å¢ƒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .zhixue-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 24px;
            border-radius: 12px;
            margin-bottom: 24px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 8px;
        }

        .header p {
            opacity: 0.9;
            font-size: 16px;
        }

        .student-info {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .student-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 2px solid #f0f0f0;
        }

        .student-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }

        .info-item {
            display: flex;
            flex-direction: column;
        }

        .info-label {
            font-size: 12px;
            color: #666;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .info-value {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }

        .grading-section {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .question-info {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 20px;
        }

        .question-number {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .question-content {
            font-size: 16px;
            line-height: 1.6;
            color: #333;
            margin-bottom: 12px;
        }

        .answer-card {
            background: #ffffff;
            border: 2px dashed #cbd5e0;
            border-radius: 12px;
            padding: 32px;
            margin: 20px 0;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .answer-card:hover {
            border-color: #667eea;
            background: #f7fafc;
        }

        .answer-card.has-content {
            border-style: solid;
            border-color: #10b981;
            background: #f0fdf4;
        }

        .answer-placeholder {
            color: #718096;
            font-size: 18px;
            margin-bottom: 16px;
        }

        .answer-content {
            font-size: 16px;
            line-height: 1.8;
            color: #2d3748;
            text-align: left;
            max-width: 100%;
            white-space: pre-wrap;
            font-family: 'æ¥·ä½“', 'KaiTi', serif;
        }

        .score-section {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }

        .score-controls {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .score-input {
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            width: 120px;
            text-align: center;
            transition: border-color 0.2s ease;
        }

        .score-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .score-label {
            font-size: 14px;
            color: #666;
            margin-right: 8px;
        }

        .score-range {
            font-size: 14px;
            color: #718096;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }

        .btn-secondary {
            background: #f3f4f6;
            color: #374151;
            border: 1px solid #d1d5db;
        }

        .btn-secondary:hover {
            background: #e5e7eb;
            transform: translateY(-1px);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
        }

        .status-success {
            background: #d1fae5;
            color: #065f46;
        }

        .status-warning {
            background: #fef3c7;
            color: #92400e;
        }

        .status-error {
            background: #fee2e2;
            color: #991b1b;
        }

        .status-info {
            background: #dbeafe;
            color: #1e40af;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 16px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
        }

        .ai-suggestions {
            background: #f0f9ff;
            border: 1px solid #bae6fd;
            border-radius: 8px;
            padding: 16px;
            margin-top: 16px;
        }

        .ai-suggestions h4 {
            color: #0c4a6e;
            margin-bottom: 8px;
        }

        .suggestion-item {
            padding: 8px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }

        .confidence-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 8px;
        }

        .confidence-bar {
            flex: 1;
            height: 6px;
            background: #e2e8f0;
            border-radius: 3px;
            overflow: hidden;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #ef4444 0%, #f59e0b 50%, #10b981 100%);
            transition: width 0.3s ease;
        }

        .confidence-text {
            font-size: 12px;
            font-weight: 500;
            min-width: 35px;
            text-align: right;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f4f6;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .mock-controls {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            min-width: 250px;
        }

        .mock-controls h3 {
            font-size: 16px;
            margin-bottom: 12px;
            color: #333;
        }

        .control-group {
            margin-bottom: 12px;
        }

        .control-group label {
            display: block;
            font-size: 12px;
            color: #666;
            margin-bottom: 4px;
        }

        .control-group input,
        .control-group select,
        .control-group textarea {
            width: 100%;
            padding: 6px 8px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 12px;
        }

        .control-group textarea {
            resize: vertical;
            min-height: 60px;
        }

        .control-buttons {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        .control-buttons button {
            flex: 1;
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .control-buttons .btn-primary {
            background: #667eea;
            color: white;
        }

        .control-buttons .btn-secondary {
            background: #f3f4f6;
            color: #374151;
            border: 1px solid #d1d5db;
        }

        .event-log {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 350px;
            max-height: 300px;
            background: #1f2937;
            color: #f9fafb;
            border-radius: 8px;
            padding: 12px;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            overflow-y: auto;
            z-index: 1000;
        }

        .event-log .timestamp {
            color: #9ca3af;
        }

        .event-log .event-type {
            color: #60a5fa;
            font-weight: bold;
        }

        .event-log .event-message {
            color: #e5e7eb;
        }

        .event-log .event-error {
            color: #f87171;
        }

        .event-log .event-success {
            color: #34d399;
        }

        @media (max-width: 768px) {
            .zhixue-container {
                padding: 12px;
            }

            .mock-controls {
                position: relative;
                top: auto;
                right: auto;
                margin-bottom: 16px;
                width: 100%;
            }

            .event-log {
                position: relative;
                bottom: auto;
                right: auto;
                width: 100%;
                max-height: 200px;
                margin-top: 16px;
            }

            .student-details {
                grid-template-columns: 1fr;
            }

            .score-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- æ¨¡æ‹Ÿæ™ºå­¦ç½‘é¡µé¢ -->
    <div class="zhixue-container">
        <!-- é¡µé¢å¤´éƒ¨ -->
        <header class="header">
            <h1>æ™ºå­¦ç½‘é˜…å·ç³»ç»Ÿ</h1>
            <p>æ™ºèƒ½é˜…å· Â· ç²¾å‡†è¯„åˆ† Â· é«˜æ•ˆä¾¿æ·</p>
        </header>

        <!-- å­¦ç”Ÿä¿¡æ¯ -->
        <div class="student-info">
            <div class="student-header">
                <h2>å­¦ç”Ÿä¿¡æ¯</h2>
                <div class="status-indicator status-info">
                    <span>â—</span>
                    <span>é˜…å·ä¸­</span>
                </div>
            </div>
            <div class="student-details">
                <div class="info-item">
                    <span class="info-label">å­¦ç”Ÿå§“å</span>
                    <span class="info-value student-name">å¼ ä¸‰</span>
                </div>
                <div class="info-item">
                    <span class="info-label">å­¦å·</span>
                    <span class="info-value student-id">2021001234</span>
                </div>
                <div class="info-item">
                    <span class="info-label">ç­çº§</span>
                    <span class="info-value">é«˜ä¸‰(1)ç­</span>
                </div>
                <div class="info-item">
                    <span class="info-label">è€ƒè¯•ç§‘ç›®</span>
                    <span class="info-value">è¯­æ–‡</span>
                </div>
            </div>
        </div>

        <!-- è¯„åˆ†åŒºåŸŸ -->
        <div class="grading-section">
            <div class="section-title">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                ç¬¬1é¢˜ï¼šç°ä»£æ–‡é˜…è¯»
            </div>

            <div class="question-info">
                <div class="question-number">ç¬¬1é¢˜</div>
                <div class="question-content">
                    é˜…è¯»ä¸‹é¢çš„æ–‡å­—ï¼Œå®Œæˆåé¢çš„é—®é¢˜ã€‚è¯·ç®€è¦åˆ†æä½œè€…åœ¨æ–‡ä¸­è¡¨è¾¾çš„ä¸»è¦è§‚ç‚¹ï¼Œå¹¶ç»“åˆå®é™…è°ˆè°ˆä½ çš„ç†è§£ã€‚ï¼ˆè¦æ±‚ï¼šè§‚ç‚¹æ˜ç¡®ï¼Œåˆ†æåˆç†ï¼Œè¯­è¨€æµç•…ï¼Œä¸å°‘äº200å­—ï¼‰
                </div>
                <div class="score-range">æ»¡åˆ†ï¼š20åˆ†</div>
            </div>

            <!-- ç­”é¢˜å¡åŒºåŸŸ -->
            <div class="answer-card" id="answerCard">
                <div class="answer-placeholder">
                    å­¦ç”Ÿç­”é¢˜å†…å®¹å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ
                </div>
                <div class="answer-content" id="answerContent" style="display: none;">
                    ä½œè€…åœ¨è¿™ç¯‡æ–‡ç« ä¸­ä¸»è¦è¡¨è¾¾äº†"ç§‘æŠ€å‘å±•ä¸ä¼ ç»Ÿæ–‡åŒ–ä¿æŠ¤å¹¶ä¸çŸ›ç›¾ï¼Œè€Œæ˜¯å¯ä»¥ç›¸äº’ä¿ƒè¿›ã€å…±åŒå‘å±•"çš„è§‚ç‚¹ã€‚

                    é¦–å…ˆï¼Œä½œè€…é€šè¿‡åˆ—ä¸¾å¤šä¸ªå…·ä½“å®ä¾‹ï¼Œå¦‚æ•…å®«åšç‰©é™¢åˆ©ç”¨æ•°å­—æŠ€æœ¯ä¿æŠ¤æ–‡ç‰©ã€ä¼ ç»Ÿæ‰‹å·¥è‰ºä¸ç°ä»£è®¾è®¡ç»“åˆç­‰ï¼Œæœ‰åŠ›åœ°è®ºè¯äº†ç§‘æŠ€å¯ä»¥ä¸ºä¼ ç»Ÿæ–‡åŒ–ä¼ æ‰¿æä¾›æ–°çš„æ‰‹æ®µå’Œå¹³å°ã€‚

                    å…¶æ¬¡ï¼Œæ–‡ç« æŒ‡å‡ºä¼ ç»Ÿæ–‡åŒ–çš„ç²¾ç¥å†…æ ¸å¯ä»¥ä¸ºç§‘æŠ€å‘å±•æä¾›ä»·å€¼å¯¼å‘ï¼Œé¿å…ç§‘æŠ€å‘å±•èµ°å‘åŠŸåˆ©åŒ–ã€ç‰©è´¨åŒ–çš„æ­§é€”ã€‚è¿™ç§ç›¸äº’ä¿ƒè¿›çš„å…³ç³»ï¼Œæ­£æ˜¯æ¨åŠ¨ç¤¾ä¼šå…¨é¢å‘å±•çš„é‡è¦åŠ¨åŠ›ã€‚

                    ä»ç°å®è§’åº¦æ¥çœ‹ï¼Œè¿™ç§è§‚ç‚¹å…·æœ‰å¾ˆå¼ºçš„æŒ‡å¯¼æ„ä¹‰ã€‚åœ¨å½“å‰å¿«é€Ÿå‘å±•çš„æ—¶ä»£èƒŒæ™¯ä¸‹ï¼Œæˆ‘ä»¬æ—¢è¦ç§¯ææ‹¥æŠ±æ–°æŠ€æœ¯ï¼Œä¹Ÿè¦æ³¨é‡ä¼ ç»Ÿæ–‡åŒ–çš„ä¿æŠ¤ä¸ä¼ æ‰¿ï¼Œå®ç°ç§‘æŠ€ä¸äººæ–‡çš„åè°ƒå‘å±•ã€‚
                </div>
            </div>

            <!-- è¯„åˆ†æ§åˆ¶ -->
            <div class="score-section">
                <div class="score-controls">
                    <div class="score-input-group">
                        <span class="score-label">è¯„åˆ†ï¼š</span>
                        <input type="number" class="score-input" id="scoreInput"
                               min="0" max="20" step="0.5" value="">
                        <span class="score-range">/ 20åˆ†</span>
                    </div>

                    <div class="confidence-indicator">
                        <span class="score-label">ç½®ä¿¡åº¦ï¼š</span>
                        <div class="confidence-bar">
                            <div class="confidence-fill" id="confidenceFill" style="width: 0%;"></div>
                        </div>
                        <span class="confidence-text" id="confidenceText">0%</span>
                    </div>
                </div>

                <div class="ai-suggestions" id="aiSuggestions" style="display: none;">
                    <h4>ğŸ¤– AIè¯„åˆ†å»ºè®®</h4>
                    <div id="suggestionsList"></div>
                </div>

                <div class="progress-bar" id="progressBar" style="display: none;">
                    <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" id="aiGradeBtn">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 2L4 7v11h4v-6h6v6h4V7l-6-5z" fill="currentColor"/>
                        </svg>
                        AIæ™ºèƒ½è¯„åˆ†
                    </button>

                    <button class="btn btn-secondary" id="manualReviewBtn">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 12l-4-4h8l-4 4z" fill="currentColor"/>
                            <path d="M3 6h12M3 10h8m-4-8v12" fill="currentColor"/>
                        </svg>
                        äººå·¥å¤æ ¸
                    </button>

                    <button class="btn btn-secondary" id="submitBtn" disabled>
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M16 7L8 15l-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        æäº¤è¯„åˆ†
                    </button>
                </div>
            </div>
        </div>

        <!-- çŠ¶æ€æŒ‡ç¤ºå™¨ -->
        <div id="statusIndicator" class="status-indicator status-info" style="display: none;">
            <span id="statusIcon">â—</span>
            <span id="statusText">å‡†å¤‡å°±ç»ª</span>
        </div>

        <!-- äº‹ä»¶æ—¥å¿— -->
        <div id="eventLog" class="event-log">
            <div class="timestamp">[ç³»ç»Ÿå¯åŠ¨]</div>
            <div class="event-message">æ™ºå­¦ç½‘æ¨¡æ‹Ÿç¯å¢ƒå·²åŠ è½½</div>
        </div>
    </div>

    <!-- æ¨¡æ‹Ÿæ§åˆ¶é¢æ¿ -->
    <div class="mock-controls">
        <h3>æ¨¡æ‹Ÿæ§åˆ¶é¢æ¿</h3>

        <div class="control-group">
            <label>å­¦ç”Ÿå§“å</label>
            <input type="text" id="mockStudentName" value="å¼ ä¸‰" placeholder="è¾“å…¥å­¦ç”Ÿå§“å">
        </div>

        <div class="control-group">
            <label>å­¦å·</label>
            <input type="text" id="mockStudentId" value="2021001234" placeholder="è¾“å…¥å­¦å·">
        </div>

        <div class="control-group">
            <label>ç­”é¢˜å†…å®¹</label>
            <textarea id="mockAnswerContent" placeholder="è¾“å…¥æˆ–ä¿®æ”¹ç­”é¢˜å†…å®¹">ä½œè€…åœ¨è¿™ç¯‡æ–‡ç« ä¸­ä¸»è¦è¡¨è¾¾äº†"ç§‘æŠ€å‘å±•ä¸ä¼ ç»Ÿæ–‡åŒ–ä¿æŠ¤å¹¶ä¸çŸ›ç›¾ï¼Œè€Œæ˜¯å¯ä»¥ç›¸äº’ä¿ƒè¿›ã€å…±åŒå‘å±•"çš„è§‚ç‚¹ã€‚

é¦–å…ˆï¼Œä½œè€…é€šè¿‡åˆ—ä¸¾å¤šä¸ªå…·ä½“å®ä¾‹ï¼Œå¦‚æ•…å®«åšç‰©é™¢åˆ©ç”¨æ•°å­—æŠ€æœ¯ä¿æŠ¤æ–‡ç‰©ã€ä¼ ç»Ÿæ‰‹å·¥è‰ºä¸ç°ä»£è®¾è®¡ç»“åˆç­‰ï¼Œæœ‰åŠ›åœ°è®ºè¯äº†ç§‘æŠ€å¯ä»¥ä¸ºä¼ ç»Ÿæ–‡åŒ–ä¼ æ‰¿æä¾›æ–°çš„æ‰‹æ®µå’Œå¹³å°ã€‚

å…¶æ¬¡ï¼Œæ–‡ç« æŒ‡å‡ºä¼ ç»Ÿæ–‡åŒ–çš„ç²¾ç¥å†…æ ¸å¯ä»¥ä¸ºç§‘æŠ€å‘å±•æä¾›ä»·å€¼å¯¼å‘ï¼Œé¿å…ç§‘æŠ€å‘å±•èµ°å‘åŠŸåˆ©åŒ–ã€ç‰©è´¨åŒ–çš„æ­§é€”ã€‚è¿™ç§ç›¸äº’ä¿ƒè¿›çš„å…³ç³»ï¼Œæ­£æ˜¯æ¨åŠ¨ç¤¾ä¼šå…¨é¢å‘å±•çš„é‡è¦åŠ¨åŠ›ã€‚

ä»ç°å®è§’åº¦æ¥çœ‹ï¼Œè¿™ç§è§‚ç‚¹å…·æœ‰å¾ˆå¼ºçš„æŒ‡å¯¼æ„ä¹‰ã€‚åœ¨å½“å‰å¿«é€Ÿå‘å±•çš„æ—¶ä»£èƒŒæ™¯ä¸‹ï¼Œæˆ‘ä»¬æ—¢è¦ç§¯ææ‹¥æŠ±æ–°æŠ€æœ¯ï¼Œä¹Ÿè¦æ³¨é‡ä¼ ç»Ÿæ–‡åŒ–çš„ä¿æŠ¤ä¸ä¼ æ‰¿ï¼Œå®ç°ç§‘æŠ€ä¸äººæ–‡çš„åè°ƒå‘å±•ã€‚</textarea>
        </div>

        <div class="control-group">
            <label>é¢˜ç›®ç±»å‹</label>
            <select id="mockQuestionType">
                <option value="subjective">ä¸»è§‚é¢˜</option>
                <option value="objective">å®¢è§‚é¢˜</option>
                <option value="essay">ä½œæ–‡é¢˜</option>
            </select>
        </div>

        <div class="control-group">
            <label>å‚è€ƒç­”æ¡ˆ</label>
            <textarea id="mockReferenceAnswer" placeholder="è¾“å…¥å‚è€ƒç­”æ¡ˆ">æœ¬æ–‡ä½œè€…ä¸»è¦è¡¨è¾¾äº†ç§‘æŠ€å‘å±•ä¸ä¼ ç»Ÿæ–‡åŒ–ä¿æŠ¤å¯ä»¥ç›¸äº’ä¿ƒè¿›ã€åè°ƒå‘å±•çš„è§‚ç‚¹ã€‚æ–‡ç« ä»ä¸¤ä¸ªæ–¹é¢è¿›è¡Œäº†è®ºè¯ï¼šä¸€æ˜¯ç§‘æŠ€ä¸ºä¼ ç»Ÿæ–‡åŒ–ä¼ æ‰¿æä¾›æ–°æ‰‹æ®µï¼ŒäºŒæ˜¯ä¼ ç»Ÿæ–‡åŒ–ä¸ºç§‘æŠ€å‘å±•æä¾›ä»·å€¼å¯¼å‘ã€‚ä½œè€…é€šè¿‡å…·ä½“å®ä¾‹è®ºè¯ï¼Œé€»è¾‘æ¸…æ™°ï¼Œè§‚ç‚¹å…·æœ‰ç°å®æ„ä¹‰ã€‚</textarea>
        </div>

        <div class="control-buttons">
            <button class="btn-primary" onclick="updateMockData()">æ›´æ–°æ•°æ®</button>
            <button class="btn-secondary" onclick="resetMockData()">é‡ç½®</button>
        </div>
    </div>

    <script type="module">
        // æ¨¡æ‹Ÿæ™ºå­¦ç½‘è¡Œä¸º
        class ZhiXueMock {
            constructor() {
                this.studentInfo = {
                    name: 'å¼ ä¸‰',
                    id: '2021001234',
                    class: 'é«˜ä¸‰(1)ç­',
                    subject: 'è¯­æ–‡'
                };

                this.questionInfo = {
                    number: 1,
                    type: 'subjective',
                    maxScore: 20,
                    content: 'é˜…è¯»ä¸‹é¢çš„æ–‡å­—ï¼Œå®Œæˆåé¢çš„é—®é¢˜ã€‚è¯·ç®€è¦åˆ†æä½œè€…åœ¨æ–‡ä¸­è¡¨è¾¾çš„ä¸»è¦è§‚ç‚¹ï¼Œå¹¶ç»“åˆå®é™…è°ˆè°ˆä½ çš„ç†è§£ã€‚'
                };

                this.answerContent = `ä½œè€…åœ¨è¿™ç¯‡æ–‡ç« ä¸­ä¸»è¦è¡¨è¾¾äº†"ç§‘æŠ€å‘å±•ä¸ä¼ ç»Ÿæ–‡åŒ–ä¿æŠ¤å¹¶ä¸çŸ›ç›¾ï¼Œè€Œæ˜¯å¯ä»¥ç›¸äº’ä¿ƒè¿›ã€å…±åŒå‘å±•"çš„è§‚ç‚¹ã€‚

é¦–å…ˆï¼Œä½œè€…é€šè¿‡åˆ—ä¸¾å¤šä¸ªå…·ä½“å®ä¾‹ï¼Œå¦‚æ•…å®«åšç‰©é™¢åˆ©ç”¨æ•°å­—æŠ€æœ¯ä¿æŠ¤æ–‡ç‰©ã€ä¼ ç»Ÿæ‰‹å·¥è‰ºä¸ç°ä»£è®¾è®¡ç»“åˆç­‰ï¼Œæœ‰åŠ›åœ°è®ºè¯äº†ç§‘æŠ€å¯ä»¥ä¸ºä¼ ç»Ÿæ–‡åŒ–ä¼ æ‰¿æä¾›æ–°çš„æ‰‹æ®µå’Œå¹³å°ã€‚

å…¶æ¬¡ï¼Œæ–‡ç« æŒ‡å‡ºä¼ ç»Ÿæ–‡åŒ–çš„ç²¾ç¥å†…æ ¸å¯ä»¥ä¸ºç§‘æŠ€å‘å±•æä¾›ä»·å€¼å¯¼å‘ï¼Œé¿å…ç§‘æŠ€å‘å±•èµ°å‘åŠŸåˆ©åŒ–ã€ç‰©è´¨åŒ–çš„æ­§é€”ã€‚è¿™ç§ç›¸äº’ä¿ƒè¿›çš„å…³ç³»ï¼Œæ­£æ˜¯æ¨åŠ¨ç¤¾ä¼šå…¨é¢å‘å±•çš„é‡è¦åŠ¨åŠ›ã€‚

ä»ç°å®è§’åº¦æ¥çœ‹ï¼Œè¿™ç§è§‚ç‚¹å…·æœ‰å¾ˆå¼ºçš„æŒ‡å¯¼æ„ä¹‰ã€‚åœ¨å½“å‰å¿«é€Ÿå‘å±•çš„æ—¶ä»£èƒŒæ™¯ä¸‹ï¼Œæˆ‘ä»¬æ—¢è¦ç§¯ææ‹¥æŠ±æ–°æŠ€æœ¯ï¼Œä¹Ÿè¦æ³¨é‡ä¼ ç»Ÿæ–‡åŒ–çš„ä¿æŠ¤ä¸ä¼ æ‰¿ï¼Œå®ç°ç§‘æŠ€ä¸äººæ–‡çš„åè°ƒå‘å±•ã€‚`;

                this.referenceAnswer = 'æœ¬æ–‡ä½œè€…ä¸»è¦è¡¨è¾¾äº†ç§‘æŠ€å‘å±•ä¸ä¼ ç»Ÿæ–‡åŒ–ä¿æŠ¤å¯ä»¥ç›¸äº’ä¿ƒè¿›ã€åè°ƒå‘å±•çš„è§‚ç‚¹ã€‚æ–‡ç« ä»ä¸¤ä¸ªæ–¹é¢è¿›è¡Œäº†è®ºè¯ï¼šä¸€æ˜¯ç§‘æŠ€ä¸ºä¼ ç»Ÿæ–‡åŒ–ä¼ æ‰¿æä¾›æ–°æ‰‹æ®µï¼ŒäºŒæ˜¯ä¼ ç»Ÿæ–‡åŒ–ä¸ºç§‘æŠ€å‘å±•æä¾›ä»·å€¼å¯¼å‘ã€‚ä½œè€…é€šè¿‡å…·ä½“å®ä¾‹è®ºè¯ï¼Œé€»è¾‘æ¸…æ™°ï¼Œè§‚ç‚¹å…·æœ‰ç°å®æ„ä¹‰ã€‚';

                this.currentScore = 0;
                this.isProcessing = false;
                this.eventLog = [];
            }

            // è®°å½•äº‹ä»¶
            logEvent(type, message, data = null) {
                const timestamp = new Date().toLocaleTimeString();
                const eventLog = document.getElementById('eventLog');
                const logEntry = document.createElement('div');
                logEntry.style.marginBottom = '4px';

                let className = 'event-message';
                if (type === 'error') className = 'event-error';
                else if (type === 'success') className = 'event-success';
                else if (type === 'info') className = 'event-type';

                logEntry.innerHTML = `<span class="timestamp">[${timestamp}]</span> - <span class="${className}">${message}</span>`;

                if (data) {
                    const dataDiv = document.createElement('div');
                    dataDiv.style.marginLeft = '16px';
                    dataDiv.style.color = '#9ca3af';
                    dataDiv.style.fontSize = '10px';
                    dataDiv.textContent = JSON.stringify(data, null, 2);
                    logEntry.appendChild(dataDiv);
                }

                eventLog.appendChild(logEntry);
                eventLog.scrollTop = eventLog.scrollHeight;

                // é™åˆ¶æ—¥å¿—æ•°é‡
                const logEntries = eventLog.querySelectorAll('div');
                if (logEntries.length > 50) {
                    eventLog.removeChild(logEntries[0]);
                }
            }

            // è·å–å­¦ç”Ÿä¿¡æ¯
            getStudentInfo() {
                return this.studentInfo;
            }

            // è·å–é¢˜ç›®ä¿¡æ¯
            getQuestionInfo() {
                return this.questionInfo;
            }

            // è·å–ç­”é¢˜å†…å®¹
            getAnswerContent() {
                return this.answerContent;
            }

            // è·å–å‚è€ƒç­”æ¡ˆ
            getReferenceAnswer() {
                return this.referenceAnswer;
            }

            // è·å–å½“å‰åˆ†æ•°
            getCurrentScore() {
                return this.currentScore;
            }

            // è®¾ç½®åˆ†æ•°ï¼ˆæ¨¡æ‹Ÿæ™ºå­¦ç½‘çš„åˆ†æ•°è¾“å…¥ï¼‰
            setScore(score) {
                this.currentScore = score;
                const scoreInput = document.getElementById('scoreInput');
                if (scoreInput) {
                    scoreInput.value = score;
                    // è§¦å‘è¾“å…¥äº‹ä»¶
                    scoreInput.dispatchEvent(new Event('input', { bubbles: true }));
                    scoreInput.dispatchEvent(new Event('change', { bubbles: true }));
                }
                this.logEvent('info', `åˆ†æ•°å·²æ›´æ–°ä¸º: ${score}åˆ†`);
            }

            // æ¨¡æ‹Ÿæäº¤æŒ‰é’®
            submitScore() {
                if (this.currentScore === 0) {
                    this.logEvent('error', 'åˆ†æ•°ä¸èƒ½ä¸º0ï¼Œè¯·å…ˆè¯„åˆ†');
                    return false;
                }

                this.logEvent('success', `è¯„åˆ†æäº¤æˆåŠŸï¼åˆ†æ•°ï¼š${this.currentScore}åˆ†`);

                // æ¨¡æ‹Ÿæäº¤åçš„å¤„ç†
                setTimeout(() => {
                    this.logEvent('info', 'æ­£åœ¨å‡†å¤‡ä¸‹ä¸€å¼ ç­”é¢˜å¡...');
                    // è¿™é‡Œå¯ä»¥æ¨¡æ‹ŸåŠ è½½ä¸‹ä¸€å¼ ç­”é¢˜å¡
                }, 1000);

                return true;
            }

            // æ¨¡æ‹Ÿé¡µé¢å…ƒç´ æ£€æµ‹
            getPageElements() {
                return {
                    studentName: document.querySelector('.student-name'),
                    studentId: document.querySelector('.student-id'),
                    answerCard: document.getElementById('answerCard'),
                    answerContent: document.getElementById('answerContent'),
                    scoreInput: document.getElementById('scoreInput'),
                    submitBtn: document.getElementById('submitBtn'),
                    aiGradeBtn: document.getElementById('aiGradeBtn'),
                    manualReviewBtn: document.getElementById('manualReviewBtn')
                };
            }

            // æ¨¡æ‹Ÿä¸åŒçŠ¶æ€çš„é¡µé¢
            simulateDifferentStates() {
                const states = [
                    {
                        name: 'æ­£å¸¸é˜…å·é¡µé¢',
                        elements: {
                            hasStudentInfo: true,
                            hasAnswerCard: true,
                            hasScoreInput: true,
                            hasSubmitButton: true
                        }
                    },
                    {
                        name: 'é˜…å·å®Œæˆé¡µé¢',
                        elements: {
                            hasStudentInfo: true,
                            hasAnswerCard: true,
                            hasScoreDisplay: true,
                            hasNextButton: true
                        }
                    },
                    {
                        name: 'åˆ—è¡¨é¡µé¢',
                        elements: {
                            hasStudentList: true,
                            hasQuestionList: true,
                            hasStatusIndicators: true
                        }
                    }
                ];

                return states;
            }

            // è§¦å‘AIè¯„åˆ†æµç¨‹
            triggerAIGrading() {
                if (this.isProcessing) {
                    this.logEvent('warning', 'AIè¯„åˆ†æ­£åœ¨è¿›è¡Œä¸­');
                    return;
                }

                this.isProcessing = true;
                this.logEvent('info', 'å¼€å§‹AIè¯„åˆ†æµç¨‹');

                // æ¨¡æ‹ŸAIè¯„åˆ†è¿‡ç¨‹
                this.simulateAIGradingProcess();
            }

            // æ¨¡æ‹ŸAIè¯„åˆ†è¿‡ç¨‹
            async simulateAIGradingProcess() {
                const steps = [
                    { name: 'å›¾ç‰‡æ•æ‰', duration: 1000 },
                    { name: 'AIè¯†åˆ«', duration: 2000 },
                    { name: 'è¯„åˆ†åˆ†æ', duration: 1500 },
                    { name: 'ç»“æœç”Ÿæˆ', duration: 500 }
                ];

                const progressBar = document.getElementById('progressBar');
                const progressFill = document.getElementById('progressFill');
                const statusIndicator = document.getElementById('statusIndicator');
                const statusText = document.getElementById('statusText');
                const statusIcon = document.getElementById('statusIcon');

                progressBar.style.display = 'block';
                statusIndicator.style.display = 'flex';

                for (let i = 0; i < steps.length; i++) {
                    const step = steps[i];
                    const progress = ((i + 1) / steps.length) * 100;

                    progressFill.style.width = `${progress}%`;
                    statusText.textContent = step.name;
                    statusIcon.style.color = '#f59e0b';

                    this.logEvent('info', `æ­£åœ¨æ‰§è¡Œï¼š${step.name}`);

                    await new Promise(resolve => setTimeout(resolve, step.duration));
                }

                // ç”Ÿæˆæ¨¡æ‹Ÿè¯„åˆ†ç»“æœ
                const mockScore = Math.floor(Math.random() * 16) + 5; // 5-20åˆ†
                const confidence = Math.floor(Math.random() * 30) + 70; // 70-100%

                this.setScore(mockScore);
                this.updateConfidence(confidence);
                this.showAISuggestions(mockScore, confidence);

                progressBar.style.display = 'none';
                statusText.textContent = 'è¯„åˆ†å®Œæˆ';
                statusIcon.style.color = '#10b981';

                this.logEvent('success', `AIè¯„åˆ†å®Œæˆï¼š${mockScore}åˆ† (ç½®ä¿¡åº¦ï¼š${confidence}%)`);

                this.isProcessing = false;
            }

            // æ›´æ–°ç½®ä¿¡åº¦æ˜¾ç¤º
            updateConfidence(confidence) {
                const confidenceFill = document.getElementById('confidenceFill');
                const confidenceText = document.getElementById('confidenceText');

                confidenceFill.style.width = `${confidence}%`;
                confidenceText.textContent = `${confidence}%`;

                // æ ¹æ®ç½®ä¿¡åº¦è®¾ç½®é¢œè‰²
                if (confidence >= 80) {
                    confidenceFill.style.background = '#10b981';
                } else if (confidence >= 60) {
                    confidenceFill.style.background = '#f59e0b';
                } else {
                    confidenceFill.style.background = '#ef4444';
                }
            }

            // æ˜¾ç¤ºAIå»ºè®®
            showAISuggestions(score, confidence) {
                const suggestionsDiv = document.getElementById('aiSuggestions');
                const suggestionsList = document.getElementById('suggestionsList');

                const suggestions = [
                    {
                        type: 'strength',
                        text: 'å†…å®¹å®Œæ•´ï¼Œè§‚ç‚¹æ˜ç¡®ï¼Œèƒ½å¤Ÿå‡†ç¡®æŠŠæ¡æ–‡ç« ä¸»æ—¨'
                    },
                    {
                        type: 'strength',
                        text: 'é€»è¾‘æ¸…æ™°ï¼Œè®ºè¯æœ‰åŠ›ï¼Œä¸¾ä¾‹æ°å½“'
                    },
                    {
                        type: 'improvement',
                        text: 'è¯­è¨€è¡¨è¾¾å¯ä»¥æ›´åŠ ç²¾ç‚¼ï¼Œé¿å…é‡å¤è¡¨è¿°'
                    },
                    {
                        type: 'improvement',
                        text: 'å¯ä»¥è¿›ä¸€æ­¥ç»“åˆå®é™…ï¼Œå¢åŠ å…·ä½“æ¡ˆä¾‹'
                    }
                ];

                suggestionsList.innerHTML = suggestions.map(suggestion => `
                    <div class="suggestion-item">
                        <strong>${suggestion.type === 'strength' ? 'âœ… ä¼˜ç‚¹ï¼š' : 'ğŸ’¡ å»ºè®®ï¼š'}</strong> ${suggestion.text}
                    </div>
                `).join('');

                suggestionsDiv.style.display = 'block';
            }

            // æ›´æ–°æ¨¡æ‹Ÿæ•°æ®
            updateMockData() {
                const name = document.getElementById('mockStudentName').value;
                const id = document.getElementById('mockStudentId').value;
                const answer = document.getElementById('mockAnswerContent').value;
                const reference = document.getElementById('mockReferenceAnswer').value;

                document.querySelector('.student-name').textContent = name;
                document.querySelector('.student-id').textContent = id;
                document.getElementById('answerContent').textContent = answer;

                this.studentInfo = { ...this.studentInfo, name, id };
                this.answerContent = answer;
                this.referenceAnswer = reference;

                this.logEvent('info', 'æ¨¡æ‹Ÿæ•°æ®å·²æ›´æ–°');
            }

            // é‡ç½®æ¨¡æ‹Ÿæ•°æ®
            resetMockData() {
                document.getElementById('mockStudentName').value = 'å¼ ä¸‰';
                document.getElementById('mockStudentId').value = '2021001234';
                document.getElementById('mockAnswerContent').value = this.answerContent;
                document.getElementById('mockReferenceAnswer').value = this.referenceAnswer;

                this.updateMockData();
                this.logEvent('info', 'æ¨¡æ‹Ÿæ•°æ®å·²é‡ç½®');
            }
        }

        // åˆå§‹åŒ–æ¨¡æ‹Ÿç¯å¢ƒ
        const mock = new ZhiXueMock();

        // ç»‘å®šäº‹ä»¶ç›‘å¬å™¨
        document.getElementById('aiGradeBtn').addEventListener('click', () => {
            mock.triggerAIGrading();
        });

        document.getElementById('manualReviewBtn').addEventListener('click', () => {
            mock.logEvent('info', 'åˆ‡æ¢åˆ°äººå·¥å¤æ ¸æ¨¡å¼');
            // è¿™é‡Œå¯ä»¥è§¦å‘äººå·¥å¤æ ¸æµç¨‹
        });

        document.getElementById('submitBtn').addEventListener('click', () => {
            const success = mock.submitScore();
            if (success) {
                document.getElementById('submitBtn').disabled = true;
            }
        });

        // ç›‘å¬åˆ†æ•°è¾“å…¥å˜åŒ–
        document.getElementById('scoreInput').addEventListener('input', (e) => {
            const score = parseFloat(e.target.value) || 0;
            mock.setScore(score);
            document.getElementById('submitBtn').disabled = score === 0;
        });

        // æ¨¡æ‹Ÿä¸åŒé¡µé¢ç»“æ„å˜åŒ–
        setInterval(() => {
            if (Math.random() < 0.1) { // 10%æ¦‚ç‡è§¦å‘é¡µé¢å˜åŒ–
                mock.logEvent('warning', 'æ£€æµ‹åˆ°é¡µé¢ç»“æ„å˜åŒ–ï¼ˆæ¨¡æ‹Ÿæ™ºå­¦ç½‘æ›´æ–°ï¼‰');
            }
        }, 10000);

        // å¯¼å‡ºåˆ°å…¨å±€ä¾›æµ‹è¯•ä½¿ç”¨
        window.ZhiXueMock = mock;

        // åˆå§‹åŒ–å®Œæˆ
        mock.logEvent('success', 'æ™ºå­¦ç½‘æ¨¡æ‹Ÿç¯å¢ƒåˆå§‹åŒ–å®Œæˆ');
        mock.logEvent('info', 'é¡µé¢å…ƒç´ å·²åŠ è½½ï¼Œå¯ä»¥å¼€å§‹æµ‹è¯•');

        console.log('ğŸ”§ æ™ºå­¦ç½‘æ¨¡æ‹Ÿç¯å¢ƒå·²å¯åŠ¨');
        console.log('ğŸ“‹ å¯ç”¨åŠŸèƒ½ï¼š');
        console.log('  - ç‚¹å‡»"AIæ™ºèƒ½è¯„åˆ†"æŒ‰é’®æµ‹è¯•AIè¯„åˆ†æµç¨‹');
        console.log('  - ä¿®æ”¹æ¨¡æ‹Ÿæ•°æ®å¹¶ç‚¹å‡»"æ›´æ–°æ•°æ®"');
        console.log('  - æŸ¥çœ‹äº‹ä»¶æ—¥å¿—äº†è§£ç³»ç»ŸçŠ¶æ€');
        console.log('  - ä½¿ç”¨window.ZhiXueMockè®¿é—®æ¨¡æ‹Ÿå¯¹è±¡');
    </script>
</body>
</html>
