# 扩展注入测试指南

## 🎯 问题原因

原始的content script使用了ES6模块导入，这在Chrome扩展的content script中通常不工作，导致浮动按钮无法显示。

## ✅ 解决方案

我创建了一个**简化版的content script** (`content-simple.js`)，去掉了所有ES6模块依赖，直接内联了必要的代码。

## 📋 测试步骤

### 第一步：刷新扩展
1. 打开 `chrome://extensions/`
2. 找到"智学网AI智能阅卷助手"
3. 点击**刷新按钮**（🔄）
4. 确认扩展状态为"已启用"

### 第二步：访问智学网
1. 打开新标签页
2. 访问：`https://www.zhixue.com`
   - 或任何智学网子域名

### 第三步：检查注入
**应该看到**：
- ✅ 页面右上角显示紫色渐变的"AI阅卷"按钮
- ✅ 点击按钮会打开右侧面板
- ✅ 面板显示"AI智能阅卷助手"标题

### 第四步：验证功能
点击面板中的按钮：
- 🎯 开始智能阅卷
- 🔍 人工复核
- 📊 数据分析

### 第五步：查看日志
1. 按 `F12` 打开开发者工具
2. 切换到 **Console** 标签
3. 应该看到类似信息：
   ```
   📦 AI智能阅卷助手 Content Script 已加载
   🚀 初始化AI智能阅卷助手...
   ✅ 智学网页面，开始注入...
   ✅ AI智能阅卷助手注入成功！
   ℹ️ 当前页面：www.zhixue.com
   ℹ️ 提示：点击右上角"AI阅卷"按钮打开面板
   ```

---

## 🎨 浮动按钮样式

**位置**：页面右上角
**外观**：
- 紫色渐变背景 (`#667eea` 到 `#764ba2`)
- 白色文字
- 包含AI图标
- 圆角设计
- 悬停时有动画效果

**文字**："AI阅卷"

---

## 📱 面板功能

### 面板位置
- 固定在页面右侧
- 宽度：400px
- 高度：100vh（全屏高度）

### 面板内容
1. **标题栏**
   - "AI智能阅卷助手"
   - 关闭按钮（×）

2. **状态信息**
   - ✅ 扩展已加载
   - 版本号：5.0.0
   - 当前页面域名

3. **功能按钮**
   - 🎯 开始智能阅卷
   - 🔍 人工复核
   - 📊 数据分析

4. **使用说明**
   - 详细的使用步骤
   - 提示信息

---

## 🔧 故障排除

### 问题1：看不到浮动按钮

**可能原因**：
- 扩展未刷新
- 访问的不是智学网页面
- content script加载失败

**解决方案**：
1. 确认在 `zhixue.com` 域名
2. 刷新扩展
3. 刷新网页
4. 检查Console错误

### 问题2：点击按钮无反应

**可能原因**：
- 面板未正确创建
- CSS样式冲突

**解决方案**：
1. 按F12查看Console
2. 确认没有JavaScript错误
3. 检查面板元素是否创建（Elements标签）

### 问题3：Console显示错误

**常见错误**：
- `SyntaxError: Unexpected token import` - 这是原始content script的问题
- `Cannot read property '...' of undefined` - 依赖模块未加载

**解决方案**：
- 已使用简化版content script解决
- 如果仍有问题，重新刷新扩展

---

## 📊 测试结果

### ✅ 成功标志
- 浮动按钮显示在右上角
- 点击按钮打开面板
- 面板内容完整显示
- Console无错误信息

### ❌ 失败标志
- 没有浮动按钮
- 点击按钮无反应
- Console显示JavaScript错误
- 面板显示异常

---

## 🎯 下一步

简化版content script成功注入后，您可以：
1. ✅ 确认扩展框架正常工作
2. ✅ 验证页面注入机制
3. ✅ 测试用户交互

**完整版功能**需要进一步开发，包括：
- 真正的AI评分功能
- 智学网页面元素检测
- 数据同步功能
- API密钥配置

---

## 📞 获取帮助

如果测试失败，请提供：
1. Console截图（按F12）
2. 扩展状态截图
3. 访问的URL
4. 错误信息

**测试页面**：https://www.zhixue.com

---

**🎉 简化版扩展应该能正常显示浮动按钮和面板了！**
